FROM eclipse-temurin:17-jre-alpine

ARG APP_NAME
ARG POSTGRES_HOST
ARG POSTGRES_PASSWD

ENV JWT_SECRET pdkBtv9driN4lSGTNeOfBK6p5IC6iz
ENV POSTGRES_HOST ${POSTGRES_HOST}
ENV KBN_DATABASE kbn_d
ENV POSTGRES_USER postgres
ENV POSTGRES_PASSWD ${POSTGRES_PASSWD}

WORKDIR /app
COPY ${APP_NAME}.jar /app/app.jar

EXPOSE 8081

ENTRYPOINT ["java", "-jar", "app.jar" ]